import{j as t,a as e,v as i,F as C,r as l,b as N,P as k,c as j}from"./index-cc9f0fed.js";import{_ as f}from"./react-apexcharts.min-c1bcf559.js";const S=r=>{const o={chart:{height:300,type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},colors:["#805dca","#e7515a"],dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},grid:{borderColor:"#191e3a"},xaxis:{categories:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisBorder:{color:"#191e3a"}},yaxis:{opposite:!1,labels:{offsetX:0}},tooltip:{theme:"dark",y:{formatter:function(d){return i(d)}}}},s=[{name:"Profit",data:r.series}];return t("div",{className:"panel",children:[e("h5",{className:"text-lg font-semibold dark:text-white",children:"This week"}),e("div",{className:"",children:e(f,{options:o,series:s,type:"bar",height:200,className:"rounded-lg bg-white dark:bg-black overflow-hidden"})})]})},W=r=>{const o={chart:{height:300,type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},colors:["#805dca","#e7515a"],dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},grid:{borderColor:"#191e3a"},xaxis:{categories:["1","2","3","4","5","6","7"],axisBorder:{color:"#191e3a"}},yaxis:{opposite:!1,labels:{offsetX:0}},tooltip:{theme:"dark",y:{formatter:function(d){return i(d)}}}},s=[{name:"Profit",data:r.series}];return t("div",{className:"panel",children:[e("h5",{className:"text-lg font-semibold dark:text-white",children:"Last sevent weeks"}),e("div",{className:"",children:e(f,{options:o,series:s,type:"bar",height:200,className:"rounded-lg bg-white dark:bg-black overflow-hidden"})})]})},n=({className:r,fill:o=!1,duotone:s=!0})=>e(C,{children:o?t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 20.5V4.25C14 3.52169 13.9984 3.05091 13.9518 2.70403C13.908 2.37872 13.8374 2.27676 13.7803 2.21967C13.7232 2.16258 13.6213 2.09197 13.296 2.04823C12.9491 2.00159 12.4783 2 11.75 2C11.0217 2 10.5509 2.00159 10.204 2.04823C9.87872 2.09197 9.77676 2.16258 9.71967 2.21967C9.66258 2.27676 9.59197 2.37872 9.54823 2.70403C9.50159 3.05091 9.5 3.52169 9.5 4.25V20.5H14Z",fill:"currentColor"}),e("path",{opacity:s?"0.7":"1",d:"M8 8.75C8 8.33579 7.66421 8 7.25 8H4.25C3.83579 8 3.5 8.33579 3.5 8.75V20.5H8V8.75Z",fill:"currentColor"}),e("path",{opacity:s?"0.7":"1",d:"M20 13.75C20 13.3358 19.6642 13 19.25 13H16.25C15.8358 13 15.5 13.3358 15.5 13.75V20.5H20V13.75Z",fill:"currentColor"}),e("path",{opacity:s?"0.5":"1",d:"M1.75 20.5C1.33579 20.5 1 20.8358 1 21.25C1 21.6642 1.33579 22 1.75 22H21.75C22.1642 22 22.5 21.6642 22.5 21.25C22.5 20.8358 22.1642 20.5 21.75 20.5H21.5H20H15.5H14H9.5H8H3.5H2H1.75Z",fill:"currentColor"})]}):t("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[e("path",{d:"M22 22H2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:s?"0.5":"1",d:"M21 22V14.5C21 13.6716 20.3284 13 19.5 13H16.5C15.6716 13 15 13.6716 15 14.5V22",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M15 22V5C15 3.58579 15 2.87868 14.5607 2.43934C14.1213 2 13.4142 2 12 2C10.5858 2 9.87868 2 9.43934 2.43934C9 2.87868 9 3.58579 9 5V22",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:s?"0.5":"1",d:"M9 22V9.5C9 8.67157 8.32843 8 7.5 8H4.5C3.67157 8 3 8.67157 3 9.5V22",stroke:"currentColor",strokeWidth:"1.5"})]})}),H=()=>{const[r,o]=l.useState("loading"),[s,d]=l.useState({currentMonth:0,currentWeek:0,today:0,avarage:0}),[u,b]=l.useState([]),[g,v]=l.useState([]),[c,x]=l.useState(null),[h,p]=l.useState(null),[m,y]=l.useState(null);return l.useEffect(()=>{o("loading"),N.get("/dashboard").then(a=>{console.log("data:",a.data);const w={currentMonth:a.data.mainStat.sumCurrentMonth,currentWeek:a.data.mainStat.sumCurrentWeek,today:a.data.mainStat.sumCurrentDay,avarage:0};d(w),b(a.data.daylyForCurrentWeek),v(a.data.lastSevenWeeks),o("success"),(a.data.jobsForLast30Days||a.data.jobsForLast30Days===0)&&x(a.data.jobsForLast30Days),(a.data.jobsForLastWeek||a.data.jobsForLastWeek===0)&&p(a.data.jobsForLastWeek),(a.data.jobsAverageForDay||a.data.jobsAverageForDay===0)&&y(a.data.jobsAverageForDay)}).catch(a=>{console.log(a),o("error")})},[]),t("div",{children:[e("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),r==="loading"&&e(k,{}),r==="error"&&e(j,{}),r==="success"&&t("div",{className:"space-y-4 mt-4",children:[t("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 mb-6 text-white",children:[t("div",{className:"panel bg-gradient-to-r from-violet-500 to-violet-400 flex justify-between items-center",children:[e("div",{className:"text-md font-semibold",children:"Total for today"}),t("div",{className:"text-3xl font-bold",children:[" ",i(s.today)," "]})]}),t("div",{className:"panel bg-gradient-to-r from-blue-500 to-blue-400 flex justify-between items-center",children:[e("div",{className:"text-md font-semibold",children:"Total for current week"}),t("div",{className:"text-3xl font-bold",children:[" ",i(s.currentWeek)," "]})]}),t("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400 flex justify-between items-center",children:[e("div",{className:"text-md font-semibold",children:"Total for current month"}),t("div",{className:"text-3xl font-bold",children:[" ",i(s.currentMonth)," "]})]}),t("div",{className:"panel bg-gradient-to-r from-fuchsia-400 to-fuchsia-300 flex justify-between items-center",children:[e("div",{className:"text-md font-semibold",children:"Avarage for month"}),t("div",{className:"text-3xl font-bold",children:[" ",i(s.avarage)," "]})]})]}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[e(S,{series:u}),e(W,{series:g})]}),t("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[c!==null&&e("div",{className:"panel",children:t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("div",{className:"text-md font-semibold",children:"Jobs for last 30 days"}),e("div",{className:"text-2xl font-bold mt-2",children:c})]}),e("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:e(n,{className:"text-white"})})]})}),h!==null&&e("div",{className:"panel",children:t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("div",{className:"text-md font-semibold",children:"Jobs for last 7 days"}),e("div",{className:"text-2xl font-bold mt-2",children:h})]}),e("div",{className:"w-10 h-10 bg-warning rounded-full flex items-center justify-center",children:e(n,{className:"text-white"})})]})}),m!==null&&e("div",{className:"panel",children:t("div",{className:"flex justify-between items-center",children:[t("div",{children:[e("div",{className:"text-md font-semibold",children:"Jobs average per day"}),e("div",{className:"text-2xl font-bold mt-2",children:m})]}),e("div",{className:"w-10 h-10 bg-secondary rounded-full flex items-center justify-center",children:e(n,{className:"text-white"})})]})})]})]})]})};export{H as default};
