import{e as y,r as a,s as E,H as u,b as C,a as t,j as g,Q as I,N as h,L as R,g as A,v as $,J as L}from"./index-6ccf6c26.js";const D=()=>{const v=y();a.useEffect(()=>{v(E("Invoice List"))});const[p,M]=a.useState([]),[i,d]=a.useState(1),[f,x]=a.useState(0),m=[10,20,30,50,100],[s,N]=a.useState(m[0]),[o,S]=a.useState(u(p,"invoice")),[b,P]=a.useState(o),[c,l]=a.useState("loading"),[r,w]=a.useState({columnAccessor:"firstName",direction:"asc"});return a.useEffect(()=>{d(1)},[s]),a.useEffect(()=>{const e=u(o,r.columnAccessor);P(r.direction==="desc"?e.reverse():e)},[r,o]),a.useEffect(()=>{l("loading"),C.get("invoice?page="+i+"&limit="+s).then(e=>{console.log("data:",e.data.invoices.data),S(e.data.invoices.data),x(e.data.invoices.total),l("succsess")}).catch(e=>{l("error"),console.log(e)})},[i,s]),t("div",{className:"panel px-0 border-white-light dark:border-[#1b2e4b]",children:t("div",{className:"invoice-table",children:g("div",{className:"datatables pagination-padding",children:[c==="loading"&&t("div",{className:"text-center mt-10",children:t("span",{className:"animate-spin border-4 border-primary border-l-transparent rounded-full w-10 h-10 inline-block align-middle m-auto mb-10"})}),c==="error"&&t("div",{children:t("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:g("span",{className:"ltr:pr-2 rtl:pl-2",children:[t("strong",{className:"ltr:mr-1 rtl:ml-1",children:"Woops!"}),"Something went wrong. Please try again or ",t("a",{href:"",onClick:()=>{window.location.reload()},className:"underline",children:"reload the page"})]})})}),c==="succsess"&&t(I,{className:"whitespace-nowrap table-hover invoice-table",records:b,columns:[{accessor:"invoice",sortable:!0,render:({id:e})=>t(h,{to:`/appointment/${e}`,children:t("div",{className:"text-primary underline hover:no-underline font-semibold",children:`#Invoice${e}`})})},{accessor:"name",sortable:!0,render:({job:e})=>{var n;return t("div",{className:"flex items-center font-semibold",children:t(R,{to:`/customer/${(n=e==null?void 0:e.customer)==null?void 0:n.id}`,className:"text-primary underline hover:no-underline",children:e==null?void 0:e.customer.name})})}},{accessor:"creator",sortable:!0,render:({creator:e})=>t("div",{className:"flex items-center font-semibold",children:t("div",{children:e==null?void 0:e.name})})},{accessor:"email",sortable:!0},{accessor:"date",sortable:!0,render:({created_at:e})=>t("div",{className:"font-semibold",children:A(e,"MMMM Do YYYY, h:mm A")})},{accessor:"amount",sortable:!0,titleClassName:"text-left",render:({job:e})=>t("div",{className:"text-left font-semibold",children:$(e==null?void 0:e.total_amount)})},{accessor:"action",title:"Actions",sortable:!1,textAlignment:"center",render:({pdf_url:e})=>t("div",{className:"flex gap-4 items-center w-max mx-auto",children:t(h,{target:"_blank",to:e,className:"flex hover:text-primary",children:t(L,{})})})}],highlightOnHover:!0,totalRecords:f,recordsPerPage:s,page:i,onPageChange:e=>d(e),recordsPerPageOptions:m,onRecordsPerPageChange:N,sortStatus:r,onSortStatusChange:w,paginationText:({from:e,to:n,totalRecords:k})=>`Showing  ${e} to ${n} of ${k} entries`})]})})})};export{D as default};
