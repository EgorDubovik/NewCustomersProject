import{e as g,u as x,r as s,g as y,s as S,b as w,j as i,a as t,L as v,h as k,P as A,c as C}from"./index-da12047a.js";import{A as E}from"./AppointmentsScheduler-c7083659.js";const P=()=>{const d=g(),p=x(),[m,u]=s.useState([]),[f,c]=s.useState("day"),n=y(e=>e.themeConfig.theme);s.useEffect(()=>{d(S("Schedule"))});const[o,a]=s.useState("loading");s.useEffect(()=>{},[n]),s.useEffect(()=>{a("success"),a("loading"),w.get("/appointment").then(e=>{console.log(e.data.appointments),u(e.data.appointments),a("success")}).catch(e=>{a("error"),console.log(e)})},[]),s.useEffect(()=>{const e=()=>{window.innerWidth<768?c("day"):c("week")};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]);const h=e=>{p("/appointment/"+e)};return i("div",{children:[i("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[t("h2",{className:"text-xl",children:"Schedule"}),t("div",{className:"flex gap-2 md:justify-end justify-around mb-2",children:t("div",{className:"flex-auto md:flex-none ",children:i(v,{to:"/schedule/maps/todays",className:"flex items-center ",children:[t(k,{className:"mr-1"}),"Map View"]})})})]}),o==="loading"&&t(A,{}),o==="error"&&t(C,{}),o==="success"&&t("div",{className:"py-4",children:t(E,{startTime:"07:00",endTime:"20:00",viewType:f,appointments:m,onClickHandler:e=>{h(e.id)},setAppointmentStyle:e=>{console.log(e);let l={},r={};return e.status===1&&(l={backgroundColor:n==="dark"?"#4a4a4ab0":"#ccc",borderLeft:"3px solid "+e.backgroundColor},r={color:n==="dark"?"#ffffff":"#000000"}),{extendedBackgroundStyles:l,extendedTitleStyle:r}}})})]})};export{P as default};
