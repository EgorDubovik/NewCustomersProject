import{e as b,u as v,r as s,g as C,s as y,b as S,j as E,a}from"./index-05de520b.js";import{A as k}from"./AppointmentsScheduler-cfdf14cc.js";import"./moment-a9aaa855.js";const j=()=>{const f=b(),m=v(),[i,g]=s.useState([]),[l,c]=s.useState("week"),r=C(e=>e.themeConfig.theme);s.useEffect(()=>{f(y("Schedule"))});const[h,d]=s.useState(!1),u=e=>{const w=t=>{console.log("getColors",r);let n=r==="dark"?"#ffffff29":"#ccc";n=t.status==0?t.bg:n;let o=t.status===0?"text-white":r==="dark"?"text-gray-300":"text-gray-500";return{bgColor:n,textColor:o}},x=e.map(t=>{const{bgColor:n,textColor:o}=w(t);return{id:t.id,title:t.title,start:t.start,end:t.end,status:t.status,bg:n,addClass:o}});g(x)};s.useEffect(()=>{u(i)},[r]),s.useEffect(()=>{d(!0),S.get("/appointment").then(e=>{u(e.data.appointments)}).catch(e=>{alert("Something went wrong"),console.log(e)}).finally(()=>{d(!1)})},[]),s.useEffect(()=>{const e=()=>{window.innerWidth<768?c("day"):c("week")};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]);const p=e=>{m("/appointment/"+e.id)};return console.log(l),E("div",{children:[a("div",{className:"flex items-center justify-between flex-wrap gap-4",children:a("h2",{className:"text-xl",children:"Schedule"})}),a("div",{className:"py-4",children:h?a("div",{className:"text-center",children:a("span",{className:"animate-spin border-4 border-primary border-l-transparent rounded-full w-10 h-10 inline-block align-middle m-auto mb-10"})}):a(k,{appointments:i,onClickHandler:p,viewType:l,startTime:"07:00",endTime:"20:00"})})]})};export{j as default};
