import{r as c,b as f,j as s,a,P as b,c as u,L as N,o as w,v as j,h as A}from"./index-2d8ba8ea.js";import{I as y}from"./IconCalendar-f4ef77e7.js";const k=()=>{const[r,x]=c.useState([]),[t,i]=c.useState("loading");return c.useEffect(()=>{i("loading"),f.get("/appointment/active").then(e=>{console.log("Active appointments:",e.data),e.data.appointments&&x(e.data.appointments),i("success")}).catch(e=>{console.log(e),i("error")})},[]),s("div",{children:[t==="loading"&&a(b,{}),t==="error"&&a(u,{}),t==="success"&&a("div",{className:"py-4",children:a("div",{className:"container w-full md:w-1/2 lg:w-1/3 mx-auto px-4 sm:px-8",children:s("div",{className:"panel",children:[s("div",{className:"text-md my-2",children:["Active Appointments (",r.length,")"]}),r.map((e,g)=>{var l,n,d,o,m,p,h,v;return a(N,{to:`/appointment/${e.id}`,children:s("div",{className:"p-2 shadow bg-[#f4f4f4] dark:bg-white-dark/20 rounded border-l-2 mb-3",style:{borderColor:w(e)},children:[s("div",{className:"px-4 flex items-center justify-between",children:[s("div",{className:"min-w-0 flex-1",children:[a("p",{className:"font-bold dark:text-gray-300",children:(n=(l=e.job)==null?void 0:l.services[0])==null?void 0:n.title}),a("p",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:(o=(d=e.job)==null?void 0:d.services[0])==null?void 0:o.description})]}),a("div",{className:`text-${((m=e.job)==null?void 0:m.remaining_balance)>0?"danger":"success"} text-center text-[12px]`,children:j(((p=e.job)==null?void 0:p.remaining_balance)>0?(h=e.job)==null?void 0:h.remaining_balance:(v=e.job)==null?void 0:v.total_paid)})]}),a("div",{className:"flex items-center justify-between px-4 mt-2",children:s("div",{className:"flex items-center",children:[a(y,{className:"w-4 h-4"}),a("span",{className:"ml-2",children:A(e.start,"MMM DD, YYYY")})]})})]})},g)})]})})})]})};export{k as default};
